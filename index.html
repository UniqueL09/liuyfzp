<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>校园防诈小卫士</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B35',
                        secondary: '#1E88E5',
                        light: '#FFF8F0',
                        dark: '#2D3748',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow { text-shadow: 0 2px 4px rgba(0,0,0,0.1); }
            .card-hover { transition: all 0.3s ease; }
            .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1); }
            .tap-highlight { -webkit-tap-highlight-color: transparent; }
        }
    </style>
</head>
<body class="bg-light min-h-screen font-sans text-dark overflow-x-hidden tap-highlight">
    <!-- 首页 -->
    <div id="home" class="block">
        <div class="relative h-screen flex flex-col items-center justify-center px-4">
            <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-secondary/10 to-primary/10 -z-10"></div>
            <!-- 卡通形象 -->
            <div class="w-32 h-32 mb-6 animate-bounce-slow">
                <img src="https://picsum.photos/seed/antiscam/200/200" alt="防诈小卫士信小安" class="w-full h-full object-cover rounded-full border-4 border-primary" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmY2YjM1Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+5b2T5YmN6ICFPC90ZXh0Pjwvc3ZnPg=='">
            </div>
            <h1 class="text-[clamp(1.8rem,5vw,2.5rem)] font-bold text-primary text-center mb-4 text-shadow">
                校园防诈小卫士
            </h1>
            <p class="text-[clamp(1rem,3vw,1.2rem)] text-center mb-10 max-w-md">
                拆解真实诈骗案例，守护你的钱包安全
            </p>
            <!-- 入口按钮 -->
            <div class="flex flex-col gap-4 w-full max-w-sm">
                <button onclick="showPage('game')" class="bg-primary text-white py-3 px-6 rounded-full text-lg font-medium shadow-lg hover:bg-primary/90 active:scale-95 transition-all card-hover">
                    情景闯关
                </button>
                <button onclick="showPage('quiz')" class="bg-secondary text-white py-3 px-6 rounded-full text-lg font-medium shadow-lg hover:bg-secondary/90 active:scale-95 transition-all card-hover">
                    知识问答
                </button>
                <button onclick="showPage('cases')" class="bg-dark text-white py-3 px-6 rounded-full text-lg font-medium shadow-lg hover:bg-dark/90 active:scale-95 transition-all card-hover">
                    真实案例库
                </button>
            </div>
            <!-- 加载提示（首次进入） -->
            <div class="absolute bottom-8 text-sm text-dark/60 animate-pulse-slow">
                加载中...全程无卡顿
            </div>
        </div>
    </div>

    <!-- 情景闯关页 -->
    <div id="game" class="hidden">
        <div class="p-4">
            <div class="flex items-center mb-6">
                <button onclick="showPage('home')" class="text-secondary text-xl mr-4 p-2">←</button>
                <h2 class="text-[clamp(1.5rem,4vw,2rem)] font-bold text-primary">情景闯关：拆穿诈骗陷阱</h2>
            </div>
            <!-- 关卡进度 -->
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-8">
                <div id="progress" class="bg-primary h-2.5 rounded-full transition-all duration-500" style="width: 20%"></div>
            </div>
            <!-- 关卡内容 -->
            <div id="level1" class="block">
                <div class="bg-white rounded-2xl p-5 shadow-lg mb-6">
                    <h3 class="text-xl font-bold mb-3 text-secondary">关卡1：游戏代练陷阱</h3>
                    <p class="mb-4">你收到B站私信："王者代练接单，点链接注册就能接！"注册后对方说"账号被封，交2000解冻费才能用"，你会？</p>
                    <div class="flex flex-col gap-3">
                        <button onclick="wrongAnswer(1)" class="border-2 border-gray-300 rounded-xl py-3 px-4 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">
                            赶紧转2000，想接单赚钱
                        </button>
                        <button onclick="wrongAnswer(1)" class="border-2 border-gray-300 rounded-xl py-3 px-4 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">
                            点对方发的新链接"解封"
                        </button>
                        <button onclick="rightAnswer(1)" class="border-2 border-green-500 rounded-xl py-3 px-4 text-left hover:bg-green-50 active:bg-green-100 transition-all">
                            不转！正规代练不私收解冻费，举报对方
                        </button>
                    </div>
                </div>
                <!-- 提示卡片 -->
                <div class="bg-primary/10 rounded-xl p-4 text-sm">
                    <p class="font-medium">小提示：源自真实案例（案例1），陌生链接别点，私转都是诈骗！</p>
                </div>
            </div>

            <div id="level2" class="hidden">
                <div class="bg-white rounded-2xl p-5 shadow-lg mb-6">
                    <h3 class="text-xl font-bold mb-3 text-secondary">关卡2：刷单返利套路</h3>
                    <p class="mb-4">你用"约炮软件"，客服说"完成刷单才能用功能"，先转100返120，再转5000说"操作错了，补3000修复才能提现"，你会？</p>
                    <div class="flex flex-col gap-3">
                        <button onclick="wrongAnswer(2)" class="border-2 border-gray-300 rounded-xl py-3 px-4 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">
                            补3000，想拿回5000
                        </button>
                        <button onclick="rightAnswer(2)" class="border-2 border-green-500 rounded-xl py-3 px-4 text-left hover:bg-green-50 active:bg-green-100 transition-all">
                            停止转账！刷单+约炮都是违法的
                        </button>
                        <button onclick="wrongAnswer(2)" class="border-2 border-gray-300 rounded-xl py-3 px-4 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">
                            再转一点试试，说不定能提现
                        </button>
                    </div>
                </div>
                <div class="bg-primary/10 rounded-xl p-4 text-sm">
                    <p class="font-medium">小提示：源自真实案例（案例5），小额返现是诱饵，大额必套牢！</p>
                </div>
            </div>

            <!-- 闯关结果弹窗 -->
            <div id="result" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-2xl p-6 max-w-sm w-4/5 text-center">
                    <div id="resultIcon" class="w-16 h-16 mx-auto mb-4"></div>
                    <h3 id="resultTitle" class="text-xl font-bold mb-2"></h3>
                    <p id="resultDesc" class="mb-6"></p>
                    <button id="resultBtn" class="bg-primary text-white py-2 px-6 rounded-full active:scale-95 transition-all" onclick="closeResult()"></button>
                </div>
            </div>
        </div>
    </div>

    <!-- 知识问答页 -->
    <div id="quiz" class="hidden">
        <div class="p-4">
            <div class="flex items-center mb-6">
                <button onclick="showPage('home')" class="text-secondary text-xl mr-4 p-2">←</button>
                <h2 class="text-[clamp(1.5rem,4vw,2rem)] font-bold text-primary">防诈知识问答</h2>
            </div>
            <!-- 得分 -->
            <div class="text-center mb-8">
                <p class="text-lg mb-2">当前得分：<span id="score" class="text-primary font-bold">0</span>/100</p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mx-auto max-w-md">
                    <div id="scoreBar" class="bg-secondary h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            <!-- 题目 -->
            <div class="space-y-6">
                <div class="bg-white rounded-2xl p-5 shadow-lg">
                    <p class="font-medium mb-3">1. 在咸鱼卖游戏号，对方让加"私人客服"交保证金，该怎么做？</p>
                    <div class="flex flex-col gap-2">
                        <button onclick="quizAnswer(1, false, this)" class="border-2 border-gray-300 rounded-xl py-2 px-3 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">交保证金，快点成交</button>
                        <button onclick="quizAnswer(1, true, this)" class="border-2 border-gray-300 rounded-xl py-2 px-3 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">拒绝！走咸鱼官方渠道，私加客服是诈骗</button>
                    </div>
                </div>
                <div class="bg-white rounded-2xl p-5 shadow-lg">
                    <p class="font-medium mb-3">2. 下载"国家反诈中心APP"后，最重要的是？</p>
                    <div class="flex flex-col gap-2">
                        <button onclick="quizAnswer(2, true, this)" class="border-2 border-gray-300 rounded-xl py-2 px-3 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">开启预警，看防诈知识</button>
                        <button onclick="quizAnswer(2, false, this)" class="border-2 border-gray-300 rounded-xl py-2 px-3 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">只挂着，不看预警</button>
                    </div>
                </div>
                <div class="bg-white rounded-2xl p-5 shadow-lg">
                    <p class="font-medium mb-3">3. 遇到"低价游戏账号"，要求先转"中介费"，该怎么办？</p>
                    <div class="flex flex-col gap-2">
                        <button onclick="quizAnswer(3, false, this)" class="border-2 border-gray-300 rounded-xl py-2 px-3 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">转中介费，想要低价账号</button>
                        <button onclick="quizAnswer(3, true, this)" class="border-2 border-gray-300 rounded-xl py-2 px-3 text-left hover:bg-gray-100 active:bg-gray-200 transition-all">不买！二次收费都是诈骗，走官方平台</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 真实案例库 -->
    <div id="cases" class="hidden">
        <div class="p-4">
            <div class="flex items-center mb-6">
                <button onclick="showPage('home')" class="text-secondary text-xl mr-4 p-2">←</button>
                <h2 class="text-[clamp(1.5rem,4vw,2rem)] font-bold text-primary">真实案例库</h2>
            </div>
            <!-- 案例卡片 -->
            <div class="space-y-4">
                <div class="bg-white rounded-2xl p-4 shadow-lg card-hover">
                    <h3 class="font-bold text-secondary mb-1">案例1：游戏代练"解冻费"诈骗</h3>
                    <p class="text-sm text-dark/70 mb-2">2025.4.23 | 男生宿舍7栋</p>
                    <p class="text-sm">B站私信诱导注册代练账号，谎称封号要2000解冻费，学生被骗后才发现联系不上对方。</p>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-lg card-hover">
                    <h3 class="font-bold text-secondary mb-1">案例2：刷单+交友诈骗</h3>
                    <p class="text-sm text-dark/70 mb-2">2025.4.4 | 男生宿舍7栋</p>
                    <p class="text-sm">点击弹窗下载刷单软件，被"同城交友"诱导刷单，累计被骗2万余元，涉案银行卡未统计无法止付。</p>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-lg card-hover">
                    <h3 class="font-bold text-secondary mb-1">案例3：约炮软件诱导刷单</h3>
                    <p class="text-sm text-dark/70 mb-2">2025.1.5 | 男生宿舍7栋</p>
                    <p class="text-sm">快手接触"约炮软件"，需刷单才能用，小额返现后大额套牢，被骗近2万，删除记录难调查。</p>
                </div>
            </div>
            <!-- 防诈知识点卡片 -->
            <div class="mt-8 bg-secondary/10 rounded-2xl p-4">
                <h3 class="font-bold text-secondary mb-2">核心防诈知识点</h3>
                <ul class="list-disc list-inside text-sm space-y-1">
                    <li>脱离正规平台的私转、二次收费全是诈骗</li>
                    <li>高佣金刷单/小额返现是陷阱，涉违法</li>
                    <li>陌生链接不点、不明软件不装，被骗保留证据找警务站</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 页面切换
        function showPage(pageId) {
            // 修复选择器问题
            const pages = ['home', 'game', 'quiz', 'cases'];
            pages.forEach(id => {
                const page = document.getElementById(id);
                if (id === pageId) {
                    page.classList.remove('hidden');
                    page.classList.add('block');
                } else {
                    page.classList.add('hidden');
                    page.classList.remove('block');
                }
            });
            window.scrollTo(0, 0);
        }

        // 闯关答题逻辑
        let currentLevel = 1;
        const maxLevel = 2;

        function wrongAnswer(level) {
            document.getElementById('resultIcon').innerHTML = '<div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"><span class="text-2xl text-red-500">❌</span></div>';
            document.getElementById('resultTitle').textContent = '答错啦！';
            document.getElementById('resultTitle').className = 'text-xl font-bold mb-2 text-red-500';
            if(level === 1) document.getElementById('resultDesc').textContent = '陌生链接和私转解冻费都是诈骗！正规代练走官方平台。';
            if(level === 2) document.getElementById('resultDesc').textContent = '刷单和约炮都是违法的，补钱只会越陷越深！';
            document.getElementById('resultBtn').textContent = '再试一次';
            document.getElementById('result').classList.remove('hidden');
        }

        function rightAnswer(level) {
            document.getElementById('resultIcon').innerHTML = '<div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"><span class="text-2xl text-green-500">✅</span></div>';
            document.getElementById('resultTitle').textContent = '闯关成功！';
            document.getElementById('resultTitle').className = 'text-xl font-bold mb-2 text-green-500';
            if(level === 1) document.getElementById('resultDesc').textContent = '你识破了游戏代练诈骗，记住：私转费用都是坑！';
            if(level === 2) document.getElementById('resultDesc').textContent = '你避开了刷单陷阱，违法的事坚决不做！';
            
            currentLevel++;
            document.getElementById('progress').style.width = `${currentLevel/maxLevel*100}%`;
            
            if(currentLevel > maxLevel) {
                document.getElementById('resultDesc').textContent = '恭喜通关！你已掌握核心防诈技巧，记得分享给同学~';
                document.getElementById('resultBtn').textContent = '返回首页';
            } else {
                document.getElementById('resultBtn').textContent = '下一关';
            }
            document.getElementById('result').classList.remove('hidden');
        }

        function closeResult() {
            document.getElementById('result').classList.add('hidden');
            if(currentLevel <= maxLevel) {
                // 修复关卡切换逻辑
                if (currentLevel-1 > 0) {
                    document.getElementById(`level${currentLevel-1}`).classList.add('hidden');
                }
                if (currentLevel <= maxLevel) {
                    document.getElementById(`level${currentLevel}`).classList.remove('hidden');
                }
            } else {
                showPage('home');
                currentLevel = 1;
                document.getElementById('progress').style.width = '20%';
                // 重置到第一关
                document.getElementById('level1').classList.remove('hidden');
                document.getElementById('level2').classList.add('hidden');
            }
        }

        // 问答评分逻辑
        let quizScore = 0;
        function quizAnswer(questionNum, isRight, element) {
            if(isRight) {
                quizScore += 33;
                if(quizScore > 100) quizScore = 100;
            }
            document.getElementById('score').textContent = quizScore;
            document.getElementById('scoreBar').style.width = `${quizScore}%`;
            
            // 禁用已答题目选项
            const buttons = element.parentElement.querySelectorAll('button');
            buttons.forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('hover:bg-gray-100', 'active:bg-gray-200');
            });
            
            if(isRight) {
                element.classList.add('bg-green-50', 'border-green-500');
            } else {
                element.classList.add('bg-red-50', 'border-red-500');
            }
        }
    </script>
</body>
</html>

